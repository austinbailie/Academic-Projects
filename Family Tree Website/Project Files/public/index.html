<!DOCTYPE html>
<html lang="en">
<head>
    <title>Genealogy App</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="CHANGE ME">
    <meta name="keywords" content="CHANGE ME">
    <meta name="author" content="Austin Bailie">
    <!-- Load jquery, bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="/style.css">
    <!-- Custom CSS End -->
</head>
<body>

    <h1 style="font-size:60px;">Genealogy App</h1>
    
    <p>Assigntment Three By Austin Bailie</p>
    <hr class="border-info">

    <p class="round1" style="text-align: center;">Status</p>
    <div class="card border-info">
        <div class="card-body" style="max-height: 70px; overflow: auto;"><p id="statusPanel"></p></div>
    </div>
    
    <button type="button" class="btn btn-info mt-2" onclick="clearPanel()">Clear</button>
    <br>
    <br>

    <p class="round1" style="text-align: center;">File Log</p>
    <div id="card1" class="card border-info"></div>
    
    <div style="max-height: 225px;overflow: auto;">
        
        <table id="fileLogTable" class="table table-striped table-bordered">
        </table>

    </div>
    <br>

    <p class="round1" style="text-align: center;">GEDCOM View</p>
    <div class="dropdown">
        
        <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">File List</button>

        <div id="GEDviewDrop" class="dropdown-menu">
            
        </div>

    </div>
    <br>

    <div id="card2" class="card border-info"></div>
    <div style="max-height: 250px;overflow: auto;">
        
        <table id="GEDviewTable" class="table table-striped table-bordered">

        </table>

    </div>


    <br>
    <br>

   
    <div class="container">
    
        <ul class="nav nav-tabs border-info" role="tablist">

            <li class="nav-item">
                <a class="nav-link active text-dark" data-toggle="tab" href="#menu0">Upload</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#menu1">Create</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#menu2">Add Individual</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#menu3">Get Descendants</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#menu4">Get Ancestors</a>
            </li>

        </ul>

  
        <div class="tab-content">
           
            <div id="menu0" class="container tab-pane active"><br>
                <h3>Upload a file.</h3><br>
                <form id="subform" action="/upload" method="post" enctype="multipart/form-data" >
                    <input type="file" id="myFile" name="uploadFile" class="border border-info rounded">
                    <button id="upBtn" type="submit" class="btn btn-info float-right">Upload File</button>
                </form>
            </div>

            <div id="menu1" class="container tab-pane fade"><br>
                <h3>Create a GEDCOM file.</h3><br>

                <form id="createFileForm" action="/createFile" >
                    <div class="container">
                        <div class="row">
                    
                            <div class="form-group col-sm-6">
                                <label for="fileName">File Name</label>
                                <input type="text" class="form-control" name="fileName" id="fileID">
                            </div>

                            <div class="form-group col-sm-6">
                                <label for="source">Source</label>
                                <input type="text" class="form-control" name="source" value ="PAF">
                            </div>

                        </div>
                    </div>

                    <div class="container">
                        <div class="row">

                            <div class="form-group col-sm-6">
                                <label for="subName">Submitter Name</label>
                                <input type="text" class="form-control" name="subName">
                            </div>

                            <div class="form-group col-sm-6">
                                <label for="encoding">Encoding</label>
                                <input type="text" class="form-control" name="encoding" value ="ANSEL">
                            </div>

                        </div>
                    </div>

                    <div class="container">
                        <div class="row">

                            <div class="form-group col-sm-6">
                                <label for="subAddr">Submitter Address</label> <span class="badge badge-info">Optional</span>
                                <input type="text" class="form-control" name="subAddr">
                            </div>

                            <div class="form-group col-sm-6">
                                <label for="gedVers">GEDCOM Version</label>
                                <input type="text" class="form-control" name="gedVers" value="5.5">
                            </div>

                        </div>
                    </div>

                    <button type="submit" class="btn btn-info">Create GEDCOM</button>
                </form>
                
            </div>

            <div id="menu2" class="container tab-pane fade"><br>
                <h3>Add an individual to a file.</h3><br>

                <form id="addIndiForm" action="/addIndi">

                    <div class="dropdown">

                        <button type="submit" class="btn btn-info float-right">Add Individual</button>
                        
                        <div class="btn-group">

                            <button id="fileBtn" type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">File List</button>
                            <div id="addIndiDrop" class="dropdown-menu">
                                
                            </div>
                            
                            <div class="card border-info ml-2" style="width:220px;">
                                <div id ="filePick" class="card-body align-items-center d-flex" style="max-height: 30px;"></div>
                            </div>

                        </div>

                    </div><br>

                    <div class="form-group w-75 float-right">
                        <label for="givenName">Given Name</label>
                        <input type="text" class="form-control" name="givenName">
                    </div>

                    <div class="form-group w-75 float-right">
                        <label for="surname">Surname</label>
                        <input type="text" class="form-control" name="surname">
                    </div>

                </form>
              
            </div>

            <div id="menu3" class="container tab-pane fade"><br>
              <h3>Display descendants of an individual.</h3><br>

                <div class="dropdown">

                    <div class="btn-group">

                        <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">File List</button>
                        <div id="decsDrop" class="dropdown-menu">
                            
                        </div>

                        <div class="card border-info ml-2" style="width:220px;">
                            <div id ="filePick2" class="card-body align-items-center d-flex" style="max-height: 30px;"></div>
                        </div>

                    </div>

                </div><br>

                <form id="getDescForm" action="/getDecs">

                    <div class="row float-right w-75">

                        <div class="input-group">

                            <div class="input-group-prepend">
                                <span class="input-group-text">First & Last Name</span>
                            </div>
                            <input type="text" class="form-control" name="givenName">
                            <input type="text" class="form-control" name="surname">

                        </div>

                    </div><br><br>

                    
                    <div class="input-group">

                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-info mr-3">Get Descendants</button>
                        </span>

                        <div class="input-group-prepend ml-5">
                            <span class="input-group-text rounded-left"># of Generations</span>
                        </div>

                        <input type="text" class="form-control" name="genNum">
                        
                    </div>

                </form><br>

                <div id="card3" class="card border-info"></div>
                <table id="descTable" class="table table-striped table-bordered">
                </table>
            
            </div>

            <div id="menu4" class="container tab-pane fade"><br>
              <h3>Display ancestors of an individual.</h3><br>

              <div class="dropdown">

                    <div class="btn-group">

                        <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">File List</button>
                        <div id="ancsDrop" class="dropdown-menu">
                            
                        </div>

                        <div class="card border-info ml-2" style="width:220px;">
                            <div id ="filePick3" class="card-body align-items-center d-flex" style="max-height: 30px;"></div>
                        </div>

                    </div>

                </div><br>

                <form id="getAncsForm" action="/getAncs">

                    <div class="row float-right w-75">

                        <div class="input-group">

                            <div class="input-group-prepend">
                                <span class="input-group-text">First & Last Name</span>
                            </div>
                            <input type="text" class="form-control" name="givenName">
                            <input type="text" class="form-control" name="surname">

                        </div>

                    </div><br><br>

                    
                    <div class="input-group">

                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-info mr-5">Get Ancestors</button>
                        </span>

                        <div class="input-group-prepend ml-5">
                            <span class="input-group-text rounded-left"># of Generations</span>
                        </div>

                        <input type="text" class="form-control" name="genNum">
                        
                    </div>

                </form><br>

                <div id="card4" class="card border-info"></div>
                <table id="ancsTable" class="table table-striped">
                </table>
            
            </div>
              
        </div>

    </div>
    

    <br><br><br><br><br><br><br><br><br>
 
    <p style="font-size:20px;">Assignment Four Additions</p>
    <hr class="border-info">

    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#DBpop">Database Login</button>

    <div class="modal fade" id="DBpop">
        <div class="modal-dialog">
          <div class="modal-content">
          
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Login to the database</h4>
              <button id="closePop" type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            
            <form id="connectDBForm" action="/conDB">

                <!-- Modal body -->
                <div class="modal-body">
                  
                    <div class="input-group">

                        <div class="input-group-prepend">
                            <span class="input-group-text rounded-left">Username</span>
                        </div>

                        <input type="text" class="form-control" name="username">
                        
                    </div><br>

                    <div class="input-group">

                        <div class="input-group-prepend">
                            <span class="input-group-text rounded-left">Password</span>
                        </div>

                        <input type="text" class="form-control" name="password">
                        
                    </div><br>

                    <div class="input-group">

                        <div class="input-group-prepend">
                            <span class="input-group-text rounded-left">Database Name</span>
                        </div>

                        <input type="text" class="form-control" name="database">
                        
                    </div>

                </div>
                
                <!-- Modal footer -->
                <div class="modal-footer" id="footer">

                    <button id="btnDB" type="submit" class="btn btn-info">Connect</button>
                </div>

            </form>

            
          </div>
        </div>
    </div>

    <br><br>
    <div class="container">
    
        <ul class="nav nav-tabs nav-justified border-info" role="tablist">

            <li class="nav-item">
                <a class="nav-link active text-dark" data-toggle="tab" href="#tab0">Store | Clear | Display</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#tab1">Execute Query</a>
            </li>

        </ul>

        <div class="tab-content">

            <div id="tab0" class="container tab-pane active"><br>

                <h4>Store all files, clear all data, or display the status of the database.</h4><br>
                
                <div class="wrapper text-center">

                    <div class="btn-group">

                        <form id="storeFilesForm" action="/storeFiles" >
                            <button id="btnStore" type="submit" class="btn btn-info mr-5">Store All Files</button>
                        </form>

                        <form id="displayDataForm" action="/displayData" >
                            <button id="btnDisplay" type="submit" class="btn btn-info ml-5 mr-5">Display DB Status</button>
                        </form>

                        <form id="clearDataForm" action="/clearData" >
                            <button id="btnClear" type="submit" class="btn btn-info ml-5">Clear All Data</button>
                        </form>

                    </div>

                </div>

            </div>

            <div id="tab1" class="container tab-pane fade"><br>

                <h4>Query the database.</h4><br>


                <div class="input-group">

                    <div class="dropdown">
    
                        <button id="btnQueryDrop" type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Queries</button>

                        <div id="queryDrop" class="dropdown-menu">

                            <a class="dropdown-item" href="#" onclick="queryOne()">Display individuals sorted by last name.</a>
                            <a class="dropdown-item" href="#" onclick="queryTwo()">Display individuals from a specific file.</a>
                            <a class="dropdown-item" href="#" onclick="queryThree()">Display individuals with specific last name.</a>
                            <a class="dropdown-item" href="#" onclick="queryFour()">Display individuals with specfic gender.</a>
                            <a class="dropdown-item" href="#" onclick="queryFive()">Display files with family size > a specified number.</a>
        
                        </div>

                    </div>

                    <textarea id="queryTA" rows="4" cols="50" class="border-info rounded ml-5" style="resize:none" name="queryTA">SELECT</textarea>

                </div><br>

                <button id="btnHelp" type="button" class="btn btn-info" data-toggle="collapse" data-target="#helpTitle" >Help</button>

                <button id="btnSubmit" type="button" class="btn btn-info" onclick="submitQuery()">Submit</button>

                <br><br>

                <div id="helpTitle" class="collapse">

                    <p style="font-size:20px;">Help</p>
                    <hr class="border-info"><br>
            
                    <div class="row">
                        <div class="col-md-6 table-responsive" style="max-height: 200px;overflow: auto;">
                            
                            <table id="helpFileTable" class="table table-sm table-bordered ">
                              
                            </table>

                        </div>

                        <div class="col-md-6 table-responsive" style="max-height: 200px;overflow: auto;">
                            
                            <table id="helpIndTable" class="table table-sm table-bordered ">
                            </table>

                        </div>
                    </div>

                </div>

                

                <br><br>

                <p style="font-size:20px;">Results</p>
                <hr class="border-info"><br>

                <div style="max-height: 250px;overflow: auto;">

                    <table id="resultTable" class="table table-striped table-bordered">
                    </table>

                </div>

            </div>


        </div>


    </div>










    <br>
    <br>
    <br>
    <br>
    <br>
    <br>




    
    <!-- Leave me at the bottom of body -->
    <script src="/index.js"></script>

</body>
</html>







